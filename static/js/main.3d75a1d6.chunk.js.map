{"version":3,"sources":["store/index.ts","components/TodosList.tsx","helpers/api.ts","components/Loader.tsx","helpers/constants.ts","components/SortButtons.tsx","App.tsx","index.tsx"],"names":["getLoading","state","loading","getLoaded","loaded","getIsReversed","isReversed","getSortedTodos","todos","sortBy","sortedTodos","sort","a","b","title","localeCompare","Number","completed","user","name","reverse","initialState","store","createStore","action","type","filter","todo","id","composeWithDevTools","TodosList","dispatch","useDispatch","useSelector","className","map","key","cn","onClick","deleteTodo","API_URL","fetchTodos","fetch","response","json","fetchUsers","getPreparedTodos","Promise","all","users","find","currentUser","userId","Loader","loadTodos","useCallback","setTimeout","fetchedTodos","disabled","SORT_BUTTONS","SortButtons","setIsReversed","App","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3d75a1d6.chunk.js","sourcesContent":["import { createStore, AnyAction } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst SET_TODOS = 'SET_TODOS';\nconst START_LOADING = 'START_LOADING';\nconst SET_LOADED = 'SET_LOADED';\nconst SORT_BY = 'SORT_BY';\nconst DELETE_TODO = 'DELETE_TODO';\nconst SET_IS_REVERSED = 'SET_IS_REVERSED';\n\n// Action creators - a function returning an action object\nexport const setTodos = (todos: Todo[]) => {\n  return {\n    type: SET_TODOS,\n    todos,\n  };\n};\n\nexport const setSortBy = (sortBy: string) => {\n  return {\n    type: SORT_BY,\n    sortBy,\n  };\n};\n\nexport const deleteTodo = (id: number) => {\n  return {\n    type: DELETE_TODO,\n    id,\n  };\n};\n\nexport const setIsReversed = (isReversed: boolean) => {\n  return {\n    type: SET_IS_REVERSED,\n    isReversed\n  };\n};\n\nexport const startLoading = () => ({ type: START_LOADING });\nexport const setIsLoaded = () => ({ type: SET_LOADED });\n\n// Selectors - a function receiving Redux state and returning some data from it\nexport const getTodos = (state: RootState) => state.todos;\nexport const getLoading = (state: RootState) => state.loading;\nexport const getLoaded = (state: RootState) => state.loaded;\nexport const getSortBy = (state: RootState) => state.sortBy;\nexport const getIsReversed = (state: RootState) => state.isReversed;\nexport const getSortedTodos = ({ todos, sortBy, isReversed }: RootState) => {\n  const sortedTodos = [...todos];\n\n  switch (sortBy) {\n    case 'title':\n      sortedTodos.sort((a, b) => (\n        a.title.localeCompare(b.title)\n      ));\n      break;\n\n    case 'completed':\n      sortedTodos.sort((a, b) => (\n        Number(b.completed) - Number(a.completed)\n      ));\n      break\n\n    case 'name':\n      sortedTodos.sort((a, b) => (\n        a.user.name.localeCompare(b.user.name)\n      ));\n      break;\n\n    default:\n      break;\n  }\n\n  if (isReversed) {\n    sortedTodos.reverse();\n  }\n\n  return sortedTodos;\n};\n\n// Initial state\nconst initialState: RootState = {\n  todos: [],\n  loading: false,\n  loaded: false,\n  sortBy: '',\n  isReversed: false,\n};\n\n// rootReducer - this function is called after dispatching an action\nconst rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case SET_TODOS:\n      return {\n        ...state,\n        todos: action.todos,\n      };\n\n    case START_LOADING:\n      return {\n        ...state,\n        loading: true,\n      };\n\n    case SET_LOADED:\n      return {\n        ...state,\n        loading: false,\n        loaded: true,\n      };\n\n    case SORT_BY:\n      return {\n        ...state,\n        sortBy: action.sortBy,\n      };\n\n    case SET_IS_REVERSED:\n      return {\n        ...state,\n        isReversed: action.isReversed,\n      };\n\n    case DELETE_TODO:\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.id),\n      };\n\n    default:\n      return state;\n  }\n};\n\n// The `store` should be passed to the <Provider store={store}> in `/src/index.tsx`\nexport const store = createStore(\n  rootReducer,\n  composeWithDevTools(),\n);\n","import React from 'react';\nimport cn from 'classnames';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deleteTodo, getSortedTodos } from '../store';\n\nexport const TodosList = () => {\n  const dispatch = useDispatch();\n  const sortedTodos = useSelector(getSortedTodos);\n\n  return (\n    <ul className=\"collection\">\n      {sortedTodos.map(({\n        id, title, completed, user,\n      }) => (\n        <li\n          className=\"collection-item\"\n          key={id}\n        >\n          <span className=\"name\">{user.name}</span>\n          <p>{title}</p>\n          <i className={cn(\n            'material-icons',\n            'medium',\n            { 'cyan-text': completed, 'pink-text darken-4': !completed },\n          )}\n          >\n            {completed ? 'sentiment_very_satisfied' : 'sentiment_dissatisfied'}\n          </i>\n          <button\n            type=\"button\"\n            className=\"btn-floating red btn-small\"\n            onClick={() => dispatch(deleteTodo(id))}\n          >\n            <i className=\"material-icons\">delete</i>\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","const API_URL = 'https://jsonplaceholder.typicode.com';\n\nexport const fetchTodos = async (): Promise<TodoFromServer[]> => {\n  const response = await fetch(`${API_URL}/todos`);\n\n  return response.json();\n};\n\nexport const fetchUsers = async (): Promise<User[]> => {\n  const response = await fetch(`${API_URL}/users`);\n\n  return response.json();\n};\n\nexport const getPreparedTodos = async (): Promise<Todo[]> => {\n  const [todos, users] = await Promise.all([fetchTodos(), fetchUsers()]);\n\n  return todos.map(todo => ({\n    ...todo,\n    user: users.find(currentUser => todo.userId === currentUser.id) as User,\n  }));\n};\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getPreparedTodos } from '../helpers/api';\nimport {\n  setTodos, getLoading, setIsLoaded, startLoading,\n} from '../store';\n\nexport const Loader = () => {\n  const dispatch = useDispatch();\n  const loading = useSelector(getLoading);\n\n  const loadTodos = useCallback(() => {\n    dispatch(startLoading());\n\n    setTimeout(async () => {\n      const fetchedTodos = await getPreparedTodos();\n\n      dispatch(setTodos(fetchedTodos));\n      dispatch(setIsLoaded());\n    }, 1000);\n  }, [dispatch]);\n\n  return (\n    <button\n      type=\"button\"\n      className=\"btn btn-primary btn-lg mb-2\"\n      onClick={loadTodos}\n      disabled={loading}\n    >\n      {loading ? 'Loading...' : 'Load todos'}\n    </button>\n  );\n};\n","export const SORT_BUTTONS: Sorts[] = [\n  {\n    id: 1,\n    name: 'title',\n    title: 'Title',\n  },\n\n  {\n    id: 2,\n    name: 'completed',\n    title: 'Completeness',\n  },\n\n  {\n    id: 3,\n    name: 'name',\n    title: 'Name',\n  },\n];\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { SORT_BUTTONS } from '../helpers/constants';\nimport { setSortBy, setIsReversed, getIsReversed } from '../store';\n\nexport const SortButtons = () => {\n  const dispatch = useDispatch();\n  const isReversed = useSelector(getIsReversed);\n\n  return (\n    <>\n      {SORT_BUTTONS.map(({ id, name, title }) => (\n        <button\n          key={id}\n          type=\"button\"\n          className=\"waves-effect waves-light btn-large\"\n          onClick={() => dispatch(setSortBy(name))}\n        >\n          {title}\n        </button>\n      ))}\n      <button\n        type=\"button\"\n        className=\"btn-floating btn-large cyan darken-4 ml1\"\n        onClick={() => dispatch(setIsReversed(!isReversed))}\n      >\n        <i className=\"material-icons\">autorenew</i>\n      </button>\n    </>\n  );\n};\n","import React from 'react';\nimport './App.scss';\nimport { useSelector } from 'react-redux';\nimport { TodosList } from './components/TodosList';\nimport { Loader } from './components/Loader';\nimport { getLoaded } from './store';\nimport { SortButtons } from './components/SortButtons';\n\nconst App = () => {\n  const loaded = useSelector(getLoaded);\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"row center-align\">Dynamic list of TODOs</h1>\n      {loaded ? (\n        <>\n          <div className=\"row center-align\">\n            <SortButtons />\n          </div>\n          <div className=\"row\">\n            <div className=\"col s6 offset-s3\">\n              <TodosList />\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className=\"row center-align\">\n          <Loader />\n        </div>\n      )}\n\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport { store } from './store';\n\n\nconst Root = () => (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}